<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
     contentScriptType="application/ecmascript" contentStyleType="text/css" height="636px" preserveAspectRatio="none"
     style="width:1019px;height:636px;background:#FFFFFF;" version="1.1" viewBox="0 0 1019 636" width="1019px"
     zoomAndPan="magnify">
    <defs>
        <filter height="300%" id="f13yhl0ug2fnsj" width="300%" x="-1" y="-1">
            <feGaussianBlur result="blurOut" stdDeviation="2.0"/>
            <feColorMatrix in="blurOut" result="blurOut2" type="matrix"
                           values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/>
            <feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/>
            <feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/>
        </filter>
    </defs>
    <g>
        <text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="262" x="380.5"
              y="28.708">Creation of transaction (RPC)
        </text>
        <rect fill="#FFFFFF" filter="url(#f13yhl0ug2fnsj)" height="410.125" style="stroke:#A80036;stroke-width:1.0;"
              width="10" x="267" y="133.25"/>
        <rect fill="#FFFFFF" filter="url(#f13yhl0ug2fnsj)" height="410.125" style="stroke:#A80036;stroke-width:1.0;"
              width="10" x="421.5" y="133.25"/>
        <rect fill="#FFFFFF" filter="url(#f13yhl0ug2fnsj)" height="410.125" style="stroke:#A80036;stroke-width:1.0;"
              width="10" x="617.5" y="133.25"/>
        <rect fill="#FFFFFF" filter="url(#f13yhl0ug2fnsj)" height="410.125" style="stroke:#A80036;stroke-width:1.0;"
              width="10" x="799.5" y="133.25"/>
        <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="48" x2="48" y1="123.25"
              y2="552.375"/>
        <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="272" x2="272" y1="123.25"
              y2="552.375"/>
        <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="426" x2="426" y1="123.25"
              y2="552.375"/>
        <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="622.5" x2="622.5" y1="123.25"
              y2="552.375"/>
        <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="804.5" x2="804.5" y1="123.25"
              y2="552.375"/>
        <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="974" x2="974" y1="123.25"
              y2="552.375"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80" x="5"
              y="119.9482">Application
        </text>
        <ellipse cx="48" cy="49.9531" fill="#FEFECE" filter="url(#f13yhl0ug2fnsj)" rx="8" ry="8"
                 style="stroke:#A80036;stroke-width:2.0;"/>
        <path d="M48,57.9531 L48,84.9531 M35,65.9531 L61,65.9531 M48,84.9531 L35,99.9531 M48,84.9531 L61,99.9531 "
              fill="none" filter="url(#f13yhl0ug2fnsj)" style="stroke:#A80036;stroke-width:2.0;"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80" x="5"
              y="564.3701">Application
        </text>
        <ellipse cx="48" cy="577.6719" fill="#FEFECE" filter="url(#f13yhl0ug2fnsj)" rx="8" ry="8"
                 style="stroke:#A80036;stroke-width:2.0;"/>
        <path d="M48,585.6719 L48,612.6719 M35,593.6719 L61,593.6719 M48,612.6719 L35,627.6719 M48,612.6719 L61,627.6719 "
              fill="none" filter="url(#f13yhl0ug2fnsj)" style="stroke:#A80036;stroke-width:2.0;"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="204"
              y="119.9482">UniconfigManager
        </text>
        <path d="M251.5,78.9531 L251.5,102.9531 M251.5,90.9531 L268.5,90.9531 " fill="none"
              filter="url(#f13yhl0ug2fnsj)" style="stroke:#A80036;stroke-width:2.0;"/>
        <ellipse cx="280.5" cy="90.9531" fill="#FEFECE" filter="url(#f13yhl0ug2fnsj)" rx="12" ry="12"
                 style="stroke:#A80036;stroke-width:2.0;"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="204"
              y="564.3701">UniconfigManager
        </text>
        <path d="M251.5,571.6719 L251.5,595.6719 M251.5,583.6719 L268.5,583.6719 " fill="none"
              filter="url(#f13yhl0ug2fnsj)" style="stroke:#A80036;stroke-width:2.0;"/>
        <ellipse cx="280.5" cy="583.6719" fill="#FEFECE" filter="url(#f13yhl0ug2fnsj)" rx="12" ry="12"
                 style="stroke:#A80036;stroke-width:2.0;"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147" x="350"
              y="119.9482">TransactionManager
        </text>
        <ellipse cx="426.5" cy="90.9531" fill="#FEFECE" filter="url(#f13yhl0ug2fnsj)" rx="12" ry="12"
                 style="stroke:#A80036;stroke-width:2.0;"/>
        <polygon fill="#A80036" points="422.5,78.9531,428.5,73.9531,426.5,78.9531,428.5,83.9531,422.5,78.9531"
                 style="stroke:#A80036;stroke-width:1.0;"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147" x="350"
              y="564.3701">TransactionManager
        </text>
        <ellipse cx="426.5" cy="583.6719" fill="#FEFECE" filter="url(#f13yhl0ug2fnsj)" rx="12" ry="12"
                 style="stroke:#A80036;stroke-width:2.0;"/>
        <polygon fill="#A80036" points="422.5,571.6719,428.5,566.6719,426.5,571.6719,428.5,576.6719,422.5,571.6719"
                 style="stroke:#A80036;stroke-width:1.0;"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="560.5"
              y="119.9482">DatastoreBroker
        </text>
        <ellipse cx="622.5" cy="90.9531" fill="#FEFECE" filter="url(#f13yhl0ug2fnsj)" rx="12" ry="12"
                 style="stroke:#A80036;stroke-width:2.0;"/>
        <polygon fill="#A80036" points="618.5,78.9531,624.5,73.9531,622.5,78.9531,624.5,83.9531,618.5,78.9531"
                 style="stroke:#A80036;stroke-width:1.0;"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="560.5"
              y="564.3701">DatastoreBroker
        </text>
        <ellipse cx="622.5" cy="583.6719" fill="#FEFECE" filter="url(#f13yhl0ug2fnsj)" rx="12" ry="12"
                 style="stroke:#A80036;stroke-width:2.0;"/>
        <polygon fill="#A80036" points="618.5,571.6719,624.5,566.6719,622.5,571.6719,624.5,576.6719,618.5,571.6719"
                 style="stroke:#A80036;stroke-width:1.0;"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="743.5"
              y="119.9482">DatabaseBroker
        </text>
        <ellipse cx="804.5" cy="90.9531" fill="#FEFECE" filter="url(#f13yhl0ug2fnsj)" rx="12" ry="12"
                 style="stroke:#A80036;stroke-width:2.0;"/>
        <polygon fill="#A80036" points="800.5,78.9531,806.5,73.9531,804.5,78.9531,806.5,83.9531,800.5,78.9531"
                 style="stroke:#A80036;stroke-width:1.0;"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="743.5"
              y="564.3701">DatabaseBroker
        </text>
        <ellipse cx="804.5" cy="583.6719" fill="#FEFECE" filter="url(#f13yhl0ug2fnsj)" rx="12" ry="12"
                 style="stroke:#A80036;stroke-width:2.0;"/>
        <polygon fill="#A80036" points="800.5,571.6719,806.5,566.6719,804.5,571.6719,806.5,576.6719,800.5,571.6719"
                 style="stroke:#A80036;stroke-width:1.0;"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="931"
              y="119.9482">PostgreSQL
        </text>
        <path d="M956.5,70.9531 C956.5,60.9531 974.5,60.9531 974.5,60.9531 C974.5,60.9531 992.5,60.9531 992.5,70.9531 L992.5,96.9531 C992.5,106.9531 974.5,106.9531 974.5,106.9531 C974.5,106.9531 956.5,106.9531 956.5,96.9531 L956.5,70.9531 "
              fill="#FEFECE" filter="url(#f13yhl0ug2fnsj)" style="stroke:#000000;stroke-width:1.5;"/>
        <path d="M956.5,70.9531 C956.5,80.9531 974.5,80.9531 974.5,80.9531 C974.5,80.9531 992.5,80.9531 992.5,70.9531 "
              fill="none" style="stroke:#000000;stroke-width:1.5;"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="931"
              y="564.3701">PostgreSQL
        </text>
        <path d="M956.5,577.6719 C956.5,567.6719 974.5,567.6719 974.5,567.6719 C974.5,567.6719 992.5,567.6719 992.5,577.6719 L992.5,603.6719 C992.5,613.6719 974.5,613.6719 974.5,613.6719 C974.5,613.6719 956.5,613.6719 956.5,603.6719 L956.5,577.6719 "
              fill="#FEFECE" filter="url(#f13yhl0ug2fnsj)" style="stroke:#000000;stroke-width:1.5;"/>
        <path d="M956.5,577.6719 C956.5,587.6719 974.5,587.6719 974.5,587.6719 C974.5,587.6719 992.5,587.6719 992.5,577.6719 "
              fill="none" style="stroke:#000000;stroke-width:1.5;"/>
        <rect fill="#FFFFFF" filter="url(#f13yhl0ug2fnsj)" height="410.125" style="stroke:#A80036;stroke-width:1.0;"
              width="10" x="267" y="133.25"/>
        <rect fill="#FFFFFF" filter="url(#f13yhl0ug2fnsj)" height="410.125" style="stroke:#A80036;stroke-width:1.0;"
              width="10" x="421.5" y="133.25"/>
        <rect fill="#FFFFFF" filter="url(#f13yhl0ug2fnsj)" height="410.125" style="stroke:#A80036;stroke-width:1.0;"
              width="10" x="617.5" y="133.25"/>
        <rect fill="#FFFFFF" filter="url(#f13yhl0ug2fnsj)" height="410.125" style="stroke:#A80036;stroke-width:1.0;"
              width="10" x="799.5" y="133.25"/>
        <polygon fill="#A80036" points="255,150.3828,265,154.3828,255,158.3828,259,154.3828"
                 style="stroke:#A80036;stroke-width:1.0;"/>
        <line style="stroke:#A80036;stroke-width:1.0;" x1="48" x2="261" y1="154.3828" y2="154.3828"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148" x="55"
              y="149.3169">create transaction RPC
        </text>
        <polygon fill="#A80036" points="409.5,179.5156,419.5,183.5156,409.5,187.5156,413.5,183.5156"
                 style="stroke:#A80036;stroke-width:1.0;"/>
        <line style="stroke:#A80036;stroke-width:1.0;" x1="277" x2="415.5" y1="183.5156" y2="183.5156"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118" x="284"
              y="178.4497">create transaction
        </text>
        <polygon fill="#A80036" points="605.5,223.7813,615.5,227.7813,605.5,231.7813,609.5,227.7813"
                 style="stroke:#A80036;stroke-width:1.0;"/>
        <line style="stroke:#A80036;stroke-width:1.0;" x1="431.5" x2="611.5" y1="227.7813" y2="227.7813"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="438.5"
              y="207.5825">create DOM
        </text>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="442.5"
              y="222.7153">read-write transaction
        </text>
        <polygon fill="#A80036" points="787.5,268.0469,797.5,272.0469,787.5,276.0469,791.5,272.0469"
                 style="stroke:#A80036;stroke-width:1.0;"/>
        <line style="stroke:#A80036;stroke-width:1.0;" x1="627.5" x2="793.5" y1="272.0469" y2="272.0469"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="634.5"
              y="251.8481">create database
        </text>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="638.5"
              y="266.981">read-write transaction
        </text>
        <polygon fill="#A80036" points="962.5,312.3125,972.5,316.3125,962.5,320.3125,966.5,316.3125"
                 style="stroke:#A80036;stroke-width:1.0;"/>
        <line style="stroke:#A80036;stroke-width:1.0;" x1="809.5" x2="968.5" y1="316.3125" y2="316.3125"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="816.5"
              y="296.1138">create connection
        </text>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="820.5"
              y="311.2466">without auto-commit
        </text>
        <line style="stroke:#A80036;stroke-width:1.0;" x1="809.5" x2="819.5" y1="345.4453" y2="341.4453"/>
        <line style="stroke:#A80036;stroke-width:1.0;" x1="809.5" x2="819.5" y1="345.4453" y2="349.4453"/>
        <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="809.5" x2="973.5" y1="345.4453"
              y2="345.4453"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="71" x="826.5"
              y="340.3794">connection
        </text>
        <line style="stroke:#A80036;stroke-width:1.0;" x1="627.5" x2="637.5" y1="389.7109" y2="385.7109"/>
        <line style="stroke:#A80036;stroke-width:1.0;" x1="627.5" x2="637.5" y1="389.7109" y2="393.7109"/>
        <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="627.5" x2="798.5" y1="389.7109"
              y2="389.7109"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90" x="644.5"
              y="369.5122">DB read-write
        </text>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73" x="648.5"
              y="384.645">transaction
        </text>
        <line style="stroke:#A80036;stroke-width:1.0;" x1="431.5" x2="441.5" y1="433.9766" y2="429.9766"/>
        <line style="stroke:#A80036;stroke-width:1.0;" x1="431.5" x2="441.5" y1="433.9766" y2="437.9766"/>
        <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="431.5" x2="616.5" y1="433.9766"
              y2="433.9766"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="448.5"
              y="413.7778">DOM read-write
        </text>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73" x="452.5"
              y="428.9106">transaction
        </text>
        <line style="stroke:#A80036;stroke-width:1.0;" x1="431.5" x2="473.5" y1="463.1094" y2="463.1094"/>
        <line style="stroke:#A80036;stroke-width:1.0;" x1="473.5" x2="473.5" y1="463.1094" y2="476.1094"/>
        <line style="stroke:#A80036;stroke-width:1.0;" x1="432.5" x2="473.5" y1="476.1094" y2="476.1094"/>
        <polygon fill="#A80036" points="442.5,472.1094,432.5,476.1094,442.5,480.1094,438.5,476.1094"
                 style="stroke:#A80036;stroke-width:1.0;"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172" x="438.5"
              y="458.0435">save uniconfig transaction
        </text>
        <line style="stroke:#A80036;stroke-width:1.0;" x1="277" x2="287" y1="505.2422" y2="501.2422"/>
        <line style="stroke:#A80036;stroke-width:1.0;" x1="277" x2="287" y1="505.2422" y2="509.2422"/>
        <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="277" x2="420.5" y1="505.2422"
              y2="505.2422"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="294"
              y="500.1763">transaction ID
        </text>
        <line style="stroke:#A80036;stroke-width:1.0;" x1="48" x2="58" y1="534.375" y2="530.375"/>
        <line style="stroke:#A80036;stroke-width:1.0;" x1="48" x2="58" y1="534.375" y2="538.375"/>
        <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="48" x2="266" y1="534.375"
              y2="534.375"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="195" x="65"
              y="529.3091">set-cookie with transaction ID
        </text><!--MD5=[f135abc69bddf563e9cbef4e0c6a7f55]
@startuml
title "Creation of transaction (RPC)"

actor Application
boundary UniconfigManager
control TransactionManager
control DatastoreBroker
control DatabaseBroker
database PostgreSQL

activate UniconfigManager
activate TransactionManager
activate DatastoreBroker
activate DatabaseBroker

Application -> UniconfigManager: create transaction RPC
UniconfigManager -> TransactionManager: create transaction

TransactionManager -> DatastoreBroker: create DOM\n read-write transaction
DatastoreBroker -> DatabaseBroker: create database\n read-write transaction
DatabaseBroker -> PostgreSQL: create connection\n without auto-commit
PostgreSQL - ->> DatabaseBroker: connection
DatabaseBroker - ->> DatastoreBroker: DB read-write\n transaction
DatastoreBroker - ->> TransactionManager: DOM read-write\n transaction

TransactionManager -> TransactionManager: save uniconfig transaction
TransactionManager - ->> UniconfigManager: transaction ID
UniconfigManager - ->> Application: set-cookie with transaction ID
@enduml

PlantUML version 1.2021.11(Sat Oct 02 15:26:11 CEST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: GB
-->
    </g>
</svg>