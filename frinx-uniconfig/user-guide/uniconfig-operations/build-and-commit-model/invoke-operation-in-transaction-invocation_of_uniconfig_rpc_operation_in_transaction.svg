<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
     contentScriptType="application/ecmascript" contentStyleType="text/css" height="581px" preserveAspectRatio="none"
     style="width:858px;height:581px;background:#FFFFFF;" version="1.1" viewBox="0 0 858 581" width="858px"
     zoomAndPan="magnify">
    <defs>
        <filter height="300%" id="fxonvh5e5th88" width="300%" x="-1" y="-1">
            <feGaussianBlur result="blurOut" stdDeviation="2.0"/>
            <feColorMatrix in="blurOut" result="blurOut2" type="matrix"
                           values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/>
            <feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/>
            <feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/>
        </filter>
    </defs>
    <g>
        <text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="470" x="192.25"
              y="28.708">Invocation of UniConfig RPC operation in transaction
        </text>
        <rect fill="#FFFFFF" filter="url(#fxonvh5e5th88)" height="354.8594" style="stroke:#A80036;stroke-width:1.0;"
              width="10" x="257" y="133.25"/>
        <rect fill="#FFFFFF" filter="url(#fxonvh5e5th88)" height="354.8594" style="stroke:#A80036;stroke-width:1.0;"
              width="10" x="429" y="133.25"/>
        <rect fill="#FFFFFF" filter="url(#fxonvh5e5th88)" height="354.8594" style="stroke:#A80036;stroke-width:1.0;"
              width="10" x="589" y="133.25"/>
        <rect fill="#FFFFFF" filter="url(#fxonvh5e5th88)" height="354.8594" style="stroke:#A80036;stroke-width:1.0;"
              width="10" x="751" y="133.25"/>
        <rect fill="#FFFFFF" filter="url(#fxonvh5e5th88)" height="135.7969" style="stroke:#000000;stroke-width:2.0;"
              width="633.5" x="211" y="315.1797"/>
        <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="48" x2="48" y1="123.25"
              y2="497.1094"/>
        <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="262" x2="262" y1="123.25"
              y2="497.1094"/>
        <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="433.5" x2="433.5" y1="123.25"
              y2="497.1094"/>
        <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="593.5" x2="593.5" y1="123.25"
              y2="497.1094"/>
        <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="755.5" x2="755.5" y1="123.25"
              y2="497.1094"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80" x="5"
              y="119.9482">Application
        </text>
        <ellipse cx="48" cy="49.9531" fill="#FEFECE" filter="url(#fxonvh5e5th88)" rx="8" ry="8"
                 style="stroke:#A80036;stroke-width:2.0;"/>
        <path d="M48,57.9531 L48,84.9531 M35,65.9531 L61,65.9531 M48,84.9531 L35,99.9531 M48,84.9531 L61,99.9531 "
              fill="none" filter="url(#fxonvh5e5th88)" style="stroke:#A80036;stroke-width:2.0;"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80" x="5"
              y="509.1045">Application
        </text>
        <ellipse cx="48" cy="522.4063" fill="#FEFECE" filter="url(#fxonvh5e5th88)" rx="8" ry="8"
                 style="stroke:#A80036;stroke-width:2.0;"/>
        <path d="M48,530.4063 L48,557.4063 M35,538.4063 L61,538.4063 M48,557.4063 L35,572.4063 M48,557.4063 L61,572.4063 "
              fill="none" filter="url(#fxonvh5e5th88)" style="stroke:#A80036;stroke-width:2.0;"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="221"
              y="119.9482">RESTCONF
        </text>
        <path d="M241.5,78.9531 L241.5,102.9531 M241.5,90.9531 L258.5,90.9531 " fill="none" filter="url(#fxonvh5e5th88)"
              style="stroke:#A80036;stroke-width:2.0;"/>
        <ellipse cx="270.5" cy="90.9531" fill="#FEFECE" filter="url(#fxonvh5e5th88)" rx="12" ry="12"
                 style="stroke:#A80036;stroke-width:2.0;"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="221"
              y="509.1045">RESTCONF
        </text>
        <path d="M241.5,516.4063 L241.5,540.4063 M241.5,528.4063 L258.5,528.4063 " fill="none"
              filter="url(#fxonvh5e5th88)" style="stroke:#A80036;stroke-width:2.0;"/>
        <ellipse cx="270.5" cy="528.4063" fill="#FEFECE" filter="url(#fxonvh5e5th88)" rx="12" ry="12"
                 style="stroke:#A80036;stroke-width:2.0;"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147" x="357.5"
              y="119.9482">TransactionManager
        </text>
        <ellipse cx="434" cy="90.9531" fill="#FEFECE" filter="url(#fxonvh5e5th88)" rx="12" ry="12"
                 style="stroke:#A80036;stroke-width:2.0;"/>
        <polygon fill="#A80036" points="430,78.9531,436,73.9531,434,78.9531,436,83.9531,430,78.9531"
                 style="stroke:#A80036;stroke-width:1.0;"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147" x="357.5"
              y="509.1045">TransactionManager
        </text>
        <ellipse cx="434" cy="528.4063" fill="#FEFECE" filter="url(#fxonvh5e5th88)" rx="12" ry="12"
                 style="stroke:#A80036;stroke-width:2.0;"/>
        <polygon fill="#A80036" points="430,516.4063,436,511.4063,434,516.4063,436,521.4063,430,516.4063"
                 style="stroke:#A80036;stroke-width:1.0;"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141" x="520.5"
              y="119.9482">RPCImplementation
        </text>
        <ellipse cx="594" cy="90.9531" fill="#FEFECE" filter="url(#fxonvh5e5th88)" rx="12" ry="12"
                 style="stroke:#A80036;stroke-width:2.0;"/>
        <polygon fill="#A80036" points="590,78.9531,596,73.9531,594,78.9531,596,83.9531,590,78.9531"
                 style="stroke:#A80036;stroke-width:1.0;"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141" x="520.5"
              y="509.1045">RPCImplementation
        </text>
        <ellipse cx="594" cy="528.4063" fill="#FEFECE" filter="url(#fxonvh5e5th88)" rx="12" ry="12"
                 style="stroke:#A80036;stroke-width:2.0;"/>
        <polygon fill="#A80036" points="590,516.4063,596,511.4063,594,516.4063,596,521.4063,590,516.4063"
                 style="stroke:#A80036;stroke-width:1.0;"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151" x="677.5"
              y="119.9482">UniconfigTransaction
        </text>
        <ellipse cx="756" cy="90.9531" fill="#FEFECE" filter="url(#fxonvh5e5th88)" rx="12" ry="12"
                 style="stroke:#A80036;stroke-width:2.0;"/>
        <line style="stroke:#A80036;stroke-width:2.0;" x1="744" x2="768" y1="104.9531" y2="104.9531"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151" x="677.5"
              y="509.1045">UniconfigTransaction
        </text>
        <ellipse cx="756" cy="528.4063" fill="#FEFECE" filter="url(#fxonvh5e5th88)" rx="12" ry="12"
                 style="stroke:#A80036;stroke-width:2.0;"/>
        <line style="stroke:#A80036;stroke-width:2.0;" x1="744" x2="768" y1="542.4063" y2="542.4063"/>
        <rect fill="#FFFFFF" filter="url(#fxonvh5e5th88)" height="354.8594" style="stroke:#A80036;stroke-width:1.0;"
              width="10" x="257" y="133.25"/>
        <rect fill="#FFFFFF" filter="url(#fxonvh5e5th88)" height="354.8594" style="stroke:#A80036;stroke-width:1.0;"
              width="10" x="429" y="133.25"/>
        <rect fill="#FFFFFF" filter="url(#fxonvh5e5th88)" height="354.8594" style="stroke:#A80036;stroke-width:1.0;"
              width="10" x="589" y="133.25"/>
        <rect fill="#FFFFFF" filter="url(#fxonvh5e5th88)" height="354.8594" style="stroke:#A80036;stroke-width:1.0;"
              width="10" x="751" y="133.25"/>
        <polygon fill="#A80036" points="245,165.5156,255,169.5156,245,173.5156,249,169.5156"
                 style="stroke:#A80036;stroke-width:1.0;"/>
        <line style="stroke:#A80036;stroke-width:1.0;" x1="48" x2="251" y1="169.5156" y2="169.5156"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115" x="55"
              y="149.3169">invocation of RPC
        </text>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181" x="59"
              y="164.4497">(POST with TX-ID in Cookie)
        </text>
        <line style="stroke:#A80036;stroke-width:1.0;" x1="267" x2="309" y1="213.7813" y2="213.7813"/>
        <line style="stroke:#A80036;stroke-width:1.0;" x1="309" x2="309" y1="213.7813" y2="226.7813"/>
        <line style="stroke:#A80036;stroke-width:1.0;" x1="268" x2="309" y1="226.7813" y2="226.7813"/>
        <polygon fill="#A80036" points="278,222.7813,268,226.7813,278,230.7813,274,226.7813"
                 style="stroke:#A80036;stroke-width:1.0;"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124" x="274"
              y="193.5825">read transaction ID
        </text>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80" x="278"
              y="208.7153">from Cookie
        </text>
        <polygon fill="#A80036" points="417,267.0469,427,271.0469,417,275.0469,421,271.0469"
                 style="stroke:#A80036;stroke-width:1.0;"/>
        <line style="stroke:#A80036;stroke-width:1.0;" x1="267" x2="423" y1="271.0469" y2="271.0469"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98" x="274"
              y="250.8481">get transaction
        </text>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="278"
              y="265.981">(transaction ID)
        </text>
        <line style="stroke:#A80036;stroke-width:1.0;" x1="267" x2="277" y1="300.1797" y2="296.1797"/>
        <line style="stroke:#A80036;stroke-width:1.0;" x1="267" x2="277" y1="300.1797" y2="304.1797"/>
        <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="267" x2="428" y1="300.1797"
              y2="300.1797"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138" x="284"
              y="295.1138">UniconfigTransaction
        </text>
        <path d="M211,315.1797 L280,315.1797 L280,322.1797 L270,332.1797 L211,332.1797 L211,315.1797 " fill="#EEEEEE"
              style="stroke:#000000;stroke-width:1.0;"/>
        <rect fill="none" height="135.7969" style="stroke:#000000;stroke-width:2.0;" width="633.5" x="211"
              y="315.1797"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing"
              textLength="24" x="226" y="328.2466">opt
        </text>
        <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing"
              textLength="141" x="295" y="327.3901">["transaction is alive"]
        </text>
        <polygon fill="#A80036" points="577,349.4453,587,353.4453,577,357.4453,581,353.4453"
                 style="stroke:#A80036;stroke-width:1.0;"/>
        <line style="stroke:#A80036;stroke-width:1.0;" x1="267" x2="583" y1="353.4453" y2="353.4453"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="266" x="274"
              y="348.3794">invoke (RPC body, UniconfigTransaction)
        </text>
        <rect fill="#FFFFFF" filter="url(#fxonvh5e5th88)" height="55.3984" style="stroke:#000000;stroke-width:2.0;"
              width="316" x="517.5" y="361.4453"/>
        <path d="M517.5,361.4453 L583.5,361.4453 L583.5,368.4453 L573.5,378.4453 L517.5,378.4453 L517.5,361.4453 "
              fill="#EEEEEE" style="stroke:#000000;stroke-width:2.0;"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing"
              textLength="21" x="530.5" y="375.5122">ref
        </text>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="198" x="578.5"
              y="394.5122">Invocation of RPC in the scope
        </text>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155" x="578.5"
              y="409.645">of UniconfigTransaction
        </text>
        <line style="stroke:#A80036;stroke-width:1.0;" x1="267" x2="277" y1="442.9766" y2="438.9766"/>
        <line style="stroke:#A80036;stroke-width:1.0;" x1="267" x2="277" y1="442.9766" y2="446.9766"/>
        <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="267" x2="588" y1="442.9766"
              y2="442.9766"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="59" x="284"
              y="437.9106">response
        </text>
        <line style="stroke:#A80036;stroke-width:1.0;" x1="48" x2="58" y1="479.1094" y2="475.1094"/>
        <line style="stroke:#A80036;stroke-width:1.0;" x1="48" x2="58" y1="479.1094" y2="483.1094"/>
        <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="48" x2="256" y1="479.1094"
              y2="479.1094"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="59" x="65"
              y="474.0435">response
        </text><!--MD5=[80c031af16cf350fb76622fc859da47d]
@startuml
title "Invocation of UniConfig RPC operation in transaction"

actor Application
boundary RESTCONF
control TransactionManager
control RPCImplementation
entity UniconfigTransaction

activate RESTCONF
activate TransactionManager
activate RPCImplementation
activate UniconfigTransaction

Application -> RESTCONF: invocation of RPC\n (POST with TX-ID in Cookie)
RESTCONF -> RESTCONF: read transaction ID\n from Cookie
RESTCONF -> TransactionManager: get transaction\n (transaction ID)
TransactionManager - ->> RESTCONF: UniconfigTransaction

opt "transaction is alive"
    RESTCONF -> RPCImplementation: invoke (RPC body, UniconfigTransaction)
    ref over RPCImplementation, UniconfigTransaction
        Invocation of RPC in the scope
        of UniconfigTransaction
    end
    RPCImplementation - ->> RESTCONF: response
end

RESTCONF - ->> Application: response
@enduml

PlantUML version 1.2021.11(Sat Oct 02 15:26:11 CEST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: GB
-->
    </g>
</svg>