<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
     contentScriptType="application/ecmascript" contentStyleType="text/css" height="356px" preserveAspectRatio="none"
     style="width:866px;height:356px;background:#FFFFFF;" version="1.1" viewBox="0 0 866 356" width="866px"
     zoomAndPan="magnify">
    <defs>
        <filter height="300%" id="f102ea7a51wtnp" width="300%" x="-1" y="-1">
            <feGaussianBlur result="blurOut" stdDeviation="2.0"/>
            <feColorMatrix in="blurOut" result="blurOut2" type="matrix"
                           values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/>
            <feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/>
            <feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/>
        </filter>
    </defs>
    <g>
        <text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="323" x="269.75"
              y="28.708">RPC replace-config-with-operational
        </text>
        <rect fill="#FFFFFF" filter="url(#f102ea7a51wtnp)" height="133.6641" style="stroke:#000000;stroke-width:2.0;"
              width="560.5" x="292" y="169.3828"/>
        <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="47" x2="47" y1="123.25"
              y2="349.1797"/>
        <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="398" x2="398" y1="123.25"
              y2="349.1797"/>
        <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="621.5" x2="621.5" y1="123.25"
              y2="349.1797"/>
        <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="771.5" x2="771.5" y1="123.25"
              y2="349.1797"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="5"
              y="119.9482">application
        </text>
        <ellipse cx="47.5" cy="49.9531" fill="#FEFECE" filter="url(#f102ea7a51wtnp)" rx="8" ry="8"
                 style="stroke:#A80036;stroke-width:2.0;"/>
        <path d="M47.5,57.9531 L47.5,84.9531 M34.5,65.9531 L60.5,65.9531 M47.5,84.9531 L34.5,99.9531 M47.5,84.9531 L60.5,99.9531 "
              fill="none" filter="url(#f102ea7a51wtnp)" style="stroke:#A80036;stroke-width:2.0;"/>
        <rect fill="#FEFECE" filter="url(#f102ea7a51wtnp)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;"
              width="189" x="302" y="87.9531"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175" x="309"
              y="107.9482">Uniconfig Node Manager
        </text>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="134" x="551.5"
              y="119.9482">topology(OPER DS)
        </text>
        <path d="M603.5,70.9531 C603.5,60.9531 621.5,60.9531 621.5,60.9531 C621.5,60.9531 639.5,60.9531 639.5,70.9531 L639.5,96.9531 C639.5,106.9531 621.5,106.9531 621.5,106.9531 C621.5,106.9531 603.5,106.9531 603.5,96.9531 L603.5,70.9531 "
              fill="#FEFECE" filter="url(#f102ea7a51wtnp)" style="stroke:#000000;stroke-width:1.5;"/>
        <path d="M603.5,70.9531 C603.5,80.9531 621.5,80.9531 621.5,80.9531 C621.5,80.9531 639.5,80.9531 639.5,70.9531 "
              fill="none" style="stroke:#000000;stroke-width:1.5;"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="135" x="701.5"
              y="119.9482">topology(CONF DS)
        </text>
        <path d="M754,70.9531 C754,60.9531 772,60.9531 772,60.9531 C772,60.9531 790,60.9531 790,70.9531 L790,96.9531 C790,106.9531 772,106.9531 772,106.9531 C772,106.9531 754,106.9531 754,96.9531 L754,70.9531 "
              fill="#FEFECE" filter="url(#f102ea7a51wtnp)" style="stroke:#000000;stroke-width:1.5;"/>
        <path d="M754,70.9531 C754,80.9531 772,80.9531 772,80.9531 C772,80.9531 790,80.9531 790,70.9531 " fill="none"
              style="stroke:#000000;stroke-width:1.5;"/>
        <polygon fill="#A80036" points="386.5,150.3828,396.5,154.3828,386.5,158.3828,390.5,154.3828"
                 style="stroke:#A80036;stroke-width:1.0;"/>
        <line style="stroke:#A80036;stroke-width:1.0;" x1="47.5" x2="392.5" y1="154.3828" y2="154.3828"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="327" x="54.5"
              y="149.3169">RPC replace-config-with-operational(target nodes)
        </text>
        <path d="M292,169.3828 L368,169.3828 L368,176.3828 L358,186.3828 L292,186.3828 L292,169.3828 " fill="#EEEEEE"
              style="stroke:#000000;stroke-width:1.0;"/>
        <rect fill="none" height="133.6641" style="stroke:#000000;stroke-width:2.0;" width="560.5" x="292"
              y="169.3828"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing"
              textLength="31" x="307" y="182.4497">loop
        </text>
        <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing"
              textLength="89" x="383" y="181.5933">[target nodes]
        </text>
        <polygon fill="#A80036" points="609.5,203.6484,619.5,207.6484,609.5,211.6484,613.5,207.6484"
                 style="stroke:#A80036;stroke-width:1.0;"/>
        <line style="stroke:#A80036;stroke-width:1.0;" x1="398.5" x2="615.5" y1="207.6484" y2="207.6484"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="199" x="405.5"
              y="202.5825">read actual node configuration
        </text>
        <polygon fill="#A80036" points="409.5,232.7813,399.5,236.7813,409.5,240.7813,405.5,236.7813"
                 style="stroke:#A80036;stroke-width:1.0;"/>
        <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="403.5" x2="620.5" y1="236.7813"
              y2="236.7813"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86" x="415.5"
              y="231.7153">configuration
        </text>
        <polygon fill="#A80036" points="760,261.9141,770,265.9141,760,269.9141,764,265.9141"
                 style="stroke:#A80036;stroke-width:1.0;"/>
        <line style="stroke:#A80036;stroke-width:1.0;" x1="398.5" x2="766" y1="265.9141" y2="265.9141"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="211" x="405.5"
              y="260.8481">put uniconfig node configuration
        </text>
        <polygon fill="#A80036" points="409.5,291.0469,399.5,295.0469,409.5,299.0469,405.5,295.0469"
                 style="stroke:#A80036;stroke-width:1.0;"/>
        <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="403.5" x2="771" y1="295.0469"
              y2="295.0469"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="23" x="415.5"
              y="289.981">ack
        </text>
        <polygon fill="#A80036" points="58.5,327.1797,48.5,331.1797,58.5,335.1797,54.5,331.1797"
                 style="stroke:#A80036;stroke-width:1.0;"/>
        <line style="stroke:#A80036;stroke-width:1.0;" x1="52.5" x2="397.5" y1="331.1797" y2="331.1797"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="59" x="64.5"
              y="326.1138">response
        </text><!--MD5=[9d457d3430335cd13c9e5bb1e40affb4]
@startuml
hide footbox
title RPC replace-config-with-operational

actor application
participant "Uniconfig Node Manager"
database "topology(OPER DS)"
database "topology(CONF DS)"

application -> "Uniconfig Node Manager": RPC replace-config-with-operational(target nodes)
loop target nodes
    "Uniconfig Node Manager" -> "topology(OPER DS)": read actual node configuration
    "topology(OPER DS)" - -> "Uniconfig Node Manager": configuration
    "Uniconfig Node Manager" -> "topology(CONF DS)": put uniconfig node configuration
    "topology(CONF DS)" - -> "Uniconfig Node Manager": ack
end
"Uniconfig Node Manager" -> application: response
@enduml

PlantUML version 1.2021.11(Sat Oct 02 15:26:11 CEST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: GB
-->
    </g>
</svg>