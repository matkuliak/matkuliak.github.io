<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
     contentScriptType="application/ecmascript" contentStyleType="text/css" height="398px" preserveAspectRatio="none"
     style="width:832px;height:398px;background:#FFFFFF;" version="1.1" viewBox="0 0 832 398" width="832px"
     zoomAndPan="magnify">
    <defs>
        <filter height="300%" id="fwm1u23ej1s7r" width="300%" x="-1" y="-1">
            <feGaussianBlur result="blurOut" stdDeviation="2.0"/>
            <feColorMatrix in="blurOut" result="blurOut2" type="matrix"
                           values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/>
            <feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/>
            <feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/>
        </filter>
    </defs>
    <g>
        <text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="301" x="267.5"
              y="28.708">RPC calculate-subtree-git-like-diff
        </text>
        <rect fill="#FFFFFF" filter="url(#fwm1u23ej1s7r)" height="249.0625" style="stroke:#A80036;stroke-width:1.0;"
              width="10" x="397" y="133.25"/>
        <rect fill="#FFFFFF" filter="url(#fwm1u23ej1s7r)" height="249.0625" style="stroke:#A80036;stroke-width:1.0;"
              width="10" x="788" y="133.25"/>
        <rect fill="#FFFFFF" filter="url(#fwm1u23ej1s7r)" height="59.2656" style="stroke:#000000;stroke-width:2.0;"
              width="507" x="286" y="285.9141"/>
        <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="48" x2="48" y1="123.25"
              y2="391.3125"/>
        <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="402" x2="402" y1="123.25"
              y2="391.3125"/>
        <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="793" x2="793" y1="123.25"
              y2="391.3125"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80" x="5"
              y="119.9482">Application
        </text>
        <ellipse cx="48" cy="49.9531" fill="#FEFECE" filter="url(#fwm1u23ej1s7r)" rx="8" ry="8"
                 style="stroke:#A80036;stroke-width:2.0;"/>
        <path d="M48,57.9531 L48,84.9531 M35,65.9531 L61,65.9531 M48,84.9531 L35,99.9531 M48,84.9531 L61,99.9531 "
              fill="none" filter="url(#fwm1u23ej1s7r)" style="stroke:#A80036;stroke-width:2.0;"/>
        <rect fill="#FEFECE" filter="url(#fwm1u23ej1s7r)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;"
              width="208" x="296" y="87.9531"/>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="194" x="303"
              y="107.9482">Uniconfig Subtree Manager
        </text>
        <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="755"
              y="119.9482">Datastore
        </text>
        <path d="M775,70.9531 C775,60.9531 793,60.9531 793,60.9531 C793,60.9531 811,60.9531 811,70.9531 L811,96.9531 C811,106.9531 793,106.9531 793,106.9531 C793,106.9531 775,106.9531 775,96.9531 L775,70.9531 "
              fill="#FEFECE" filter="url(#fwm1u23ej1s7r)" style="stroke:#000000;stroke-width:1.5;"/>
        <path d="M775,70.9531 C775,80.9531 793,80.9531 793,80.9531 C793,80.9531 811,80.9531 811,70.9531 " fill="none"
              style="stroke:#000000;stroke-width:1.5;"/>
        <rect fill="#FFFFFF" filter="url(#fwm1u23ej1s7r)" height="249.0625" style="stroke:#A80036;stroke-width:1.0;"
              width="10" x="397" y="133.25"/>
        <rect fill="#FFFFFF" filter="url(#fwm1u23ej1s7r)" height="249.0625" style="stroke:#A80036;stroke-width:1.0;"
              width="10" x="788" y="133.25"/>
        <polygon fill="#A80036" points="385,150.3828,395,154.3828,385,158.3828,389,154.3828"
                 style="stroke:#A80036;stroke-width:1.0;"/>
        <line style="stroke:#A80036;stroke-width:1.0;" x1="48" x2="391" y1="154.3828" y2="154.3828"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="325" x="55"
              y="149.3169">RPC calculate-subtree-git-like-diff (source, target)
        </text>
        <polygon fill="#A80036" points="776,179.5156,786,183.5156,776,187.5156,780,183.5156"
                 style="stroke:#A80036;stroke-width:1.0;"/>
        <line style="stroke:#A80036;stroke-width:1.0;" x1="407" x2="782" y1="183.5156" y2="183.5156"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="246" x="414"
              y="178.4497">read source data by path and location
        </text>
        <polygon fill="#A80036" points="418,208.6484,408,212.6484,418,216.6484,414,212.6484"
                 style="stroke:#A80036;stroke-width:1.0;"/>
        <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="412" x2="787" y1="212.6484"
              y2="212.6484"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96" x="424"
              y="207.5825">source subtree
        </text>
        <polygon fill="#A80036" points="776,237.7813,786,241.7813,776,245.7813,780,241.7813"
                 style="stroke:#A80036;stroke-width:1.0;"/>
        <line style="stroke:#A80036;stroke-width:1.0;" x1="407" x2="782" y1="241.7813" y2="241.7813"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="242" x="414"
              y="236.7153">read target data by path and location
        </text>
        <polygon fill="#A80036" points="418,266.9141,408,270.9141,418,274.9141,414,270.9141"
                 style="stroke:#A80036;stroke-width:1.0;"/>
        <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="412" x2="787" y1="270.9141"
              y2="270.9141"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="424"
              y="265.8481">target subtree
        </text>
        <path d="M286,285.9141 L362,285.9141 L362,292.9141 L352,302.9141 L286,302.9141 L286,285.9141 " fill="#EEEEEE"
              style="stroke:#000000;stroke-width:1.0;"/>
        <rect fill="none" height="59.2656" style="stroke:#000000;stroke-width:2.0;" width="507" x="286" y="285.9141"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing"
              textLength="31" x="301" y="298.981">loop
        </text>
        <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing"
              textLength="195" x="377" y="298.1245">[for each root container or list]
        </text>
        <line style="stroke:#A80036;stroke-width:1.0;" x1="407" x2="449" y1="324.1797" y2="324.1797"/>
        <line style="stroke:#A80036;stroke-width:1.0;" x1="449" x2="449" y1="324.1797" y2="337.1797"/>
        <line style="stroke:#A80036;stroke-width:1.0;" x1="408" x2="449" y1="337.1797" y2="337.1797"/>
        <polygon fill="#A80036" points="418,333.1797,408,337.1797,418,341.1797,414,337.1797"
                 style="stroke:#A80036;stroke-width:1.0;"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="367" x="414"
              y="319.1138">diff between source and target subtree in a git-like style
        </text>
        <polygon fill="#A80036" points="59,369.3125,49,373.3125,59,377.3125,55,373.3125"
                 style="stroke:#A80036;stroke-width:1.0;"/>
        <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="53" x2="396" y1="373.3125"
              y2="373.3125"/>
        <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="65"
              y="368.2466">RPC result with diff
        </text><!--MD5=[1c518a23024304902cd1a059805da0a5]
@startuml
hide footbox
title RPC calculate-subtree-git-like-diff

actor Application
participant "Uniconfig Subtree Manager"
database "Datastore"

activate "Uniconfig Subtree Manager"
activate "Datastore"

Application -> "Uniconfig Subtree Manager": RPC calculate-subtree-git-like-diff (source, target)
"Uniconfig Subtree Manager" -> "Datastore": read source data by path and location
"Datastore" - -> "Uniconfig Subtree Manager": source subtree
"Uniconfig Subtree Manager" -> "Datastore": read target data by path and location
"Datastore" - -> "Uniconfig Subtree Manager": target subtree
loop for each root container or list
    "Uniconfig Subtree Manager" -> "Uniconfig Subtree Manager": diff between source and target subtree in a git-like style
end
"Uniconfig Subtree Manager" - -> Application: RPC result with diff
@enduml

PlantUML version 1.2021.11(Sat Oct 02 15:26:11 CEST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: GB
-->
    </g>
</svg>